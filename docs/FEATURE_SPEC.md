# 🥒 Pickle 기능 명세서 (Feature Specification)

**Version**: 1.0  
**작성일**: 2026-01-26  
**상태**: Draft

---

# 📌 문서 개요

이 문서는 Pickle 서비스의 모든 기능을 상세하게 명세합니다.  
각 기능에 대해 **요구사항**, **사용자 플로우**, **UI/UX 가이드**, **엣지 케이스**, **기술 구현 가이드**를 포함합니다.

---

# 🔐 1. 인증 (Authentication)

## 1.1 회원가입

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | AUTH-001 |
| **우선순위** | P0 (필수) |
| **담당** | Frontend, Backend |
| **진입점** | 랜딩 페이지 → "시작하기" 버튼 |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| AUTH-001-1 | Google OAuth 로그인 | Google 계정으로 가입 가능 | P0 |
| AUTH-001-2 | 서비스 이용약관 동의 | 필수 동의 체크 없이 진행 불가 | P0 |
| AUTH-001-3 | 개인정보처리방침 동의 | 필수 동의 체크 없이 진행 불가 | P0 |
| AUTH-001-4 | 마케팅 수신 동의 | 선택 체크박스, 미체크 시에도 진행 가능 | P1 |
| AUTH-001-5 | 기본 워크스페이스 생성 | 가입 완료 시 "내 워크스페이스" 자동 생성 | P0 |
| AUTH-001-6 | 대시보드 이동 | 가입 완료 후 /dashboard로 리다이렉트 | P0 |

### 사용자 플로우

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. 랜딩 페이지                                                   │
│    └─ "시작하기" 버튼 클릭                                        │
│                                                                 │
│ 2. 약관 동의 페이지 (/signup)                                    │
│    ├─ [필수] 서비스 이용약관 ☐ (링크: 전문 보기)                   │
│    ├─ [필수] 개인정보 처리방침 ☐ (링크: 전문 보기)                 │
│    ├─ [선택] 마케팅 정보 수신 동의 ☐                              │
│    └─ [동의하고 계속하기] 버튼 (필수 미체크 시 비활성화)           │
│                                                                 │
│ 3. Google 로그인 팝업                                            │
│    └─ Google 계정 선택 및 인증                                   │
│                                                                 │
│ 4. 가입 처리 (백그라운드)                                         │
│    ├─ users 테이블에 사용자 생성                                  │
│    ├─ 약관 동의 정보 저장                                         │
│    └─ 기본 워크스페이스 생성 + 멤버십 부여                        │
│                                                                 │
│ 5. 대시보드 이동 (/dashboard)                                    │
└─────────────────────────────────────────────────────────────────┘
```

### UI/UX 가이드

**약관 동의 페이지 레이아웃:**

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                    🥒 Pickle에 오신 것을 환영합니다               │
│                                                                 │
│            서비스 이용을 위해 아래 약관에 동의해 주세요             │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                           │  │
│  │  ☐ [필수] 서비스 이용약관에 동의합니다       [전문 보기 >]  │  │
│  │                                                           │  │
│  │  ☐ [필수] 개인정보 처리방침에 동의합니다     [전문 보기 >]  │  │
│  │                                                           │  │
│  │  ☐ [선택] 마케팅 정보 수신에 동의합니다                    │  │
│  │          이벤트, 신기능 안내 등을 받아볼 수 있습니다         │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│              ┌─────────────────────────────────────┐            │
│              │    🔵 동의하고 Google로 계속하기     │            │
│              └─────────────────────────────────────┘            │
│                                                                 │
│                     이미 계정이 있으신가요? 로그인               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**디자인 가이드:**
- 필수 항목은 빨간색 [필수] 라벨로 구분
- 체크박스는 충분한 터치/클릭 영역 확보 (최소 44px)
- "전문 보기" 클릭 시 새 탭 또는 모달로 약관 표시
- 필수 약관 미동의 시 버튼 비활성화 + 안내 툴팁

### 엣지 케이스

| 케이스 | 처리 방법 |
|:---|:---|
| Google 로그인 취소 | 약관 동의 페이지로 복귀, 상태 유지 |
| 이미 가입된 계정 | 로그인 처리 후 대시보드 이동 |
| 네트워크 오류 | "네트워크 오류가 발생했습니다. 다시 시도해주세요" 토스트 |
| 필수 약관 미동의로 버튼 클릭 시도 | 버튼 비활성화, 미동의 항목 하이라이트 |

### 기술 구현

**Frontend:**
- `/signup` 페이지에서 약관 동의 상태 관리
- Google OAuth 버튼 클릭 시 동의 정보를 메타데이터로 전달
- Supabase `signInWithOAuth` 호출

**Backend (Supabase):**
- `complete_signup` RPC 함수 호출
- 약관 동의 정보 저장 (is_terms_agreed, is_privacy_agreed, is_marketing_agreed)
- 기본 워크스페이스 생성 + workspace_members 추가

---

## 1.2 로그인

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | AUTH-002 |
| **우선순위** | P0 (필수) |
| **진입점** | 랜딩 페이지 → "로그인" 버튼, 익스텐션 팝업 |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| AUTH-002-1 | Google OAuth 로그인 | 기존 계정으로 로그인 가능 | P0 |
| AUTH-002-2 | 세션 자동 갱신 | Access Token 만료 5분 전 자동 갱신 | P0 |
| AUTH-002-3 | 익스텐션-웹 세션 동기화 | 익스텐션 로그인 → 웹 자동 로그인 | P1 |
| AUTH-002-4 | 로그인 상태 유지 | 브라우저 종료 후 재접속 시 세션 유지 | P0 |

### 사용자 플로우

**웹 로그인:**
```
랜딩 → "로그인" 클릭 → Google 팝업 → 계정 선택 → 대시보드
```

**익스텐션 로그인:**
```
익스텐션 팝업 → "로그인" 클릭 → Google 팝업 → 계정 선택 → 팝업 UI 업데이트
```

### 엣지 케이스

| 케이스 | 처리 방법 |
|:---|:---|
| 미가입 계정으로 로그인 시도 | 회원가입 플로우로 이동 |
| pending 상태 사용자 | 약관 동의 페이지로 이동 |
| suspended 상태 사용자 | "계정이 일시 정지되었습니다" 안내 |
| 세션 만료 | 자동 갱신 실패 시 로그인 페이지 이동 |

---

## 1.3 로그아웃

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | AUTH-003 |
| **우선순위** | P0 (필수) |
| **진입점** | 사이드바 프로필 영역 → 로그아웃, 익스텐션 팝업 메뉴 |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| AUTH-003-1 | 로컬 세션 삭제 | 브라우저 세션/쿠키 완전 삭제 | P0 |
| AUTH-003-2 | 랜딩 페이지 이동 | 로그아웃 후 "/" 로 리다이렉트 | P0 |
| AUTH-003-3 | 익스텐션 상태 업데이트 | 로그인 UI로 전환 | P0 |

---

## 1.4 회원탈퇴

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | AUTH-004 |
| **우선순위** | P1 (중요) |
| **진입점** | 설정 페이지 → 계정 관리 → 회원탈퇴 |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| AUTH-004-1 | 탈퇴 확인 다이얼로그 | 경고 문구 + 삭제 데이터 목록 표시 | P0 |
| AUTH-004-2 | 즉시 데이터 삭제 | 계정, 노트, 파일 등 모든 데이터 즉시 삭제 | P0 |
| AUTH-004-3 | 복구 불가 안내 | "삭제된 데이터는 복구할 수 없습니다" 명시 | P0 |
| AUTH-004-4 | 세션 종료 | 탈퇴 후 로그아웃 처리 + 랜딩 이동 | P0 |

### UI/UX 가이드

**탈퇴 확인 다이얼로그:**

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                   ⚠️ 정말 탈퇴하시겠습니까?                      │
│                                                                 │
│  탈퇴 시 아래 데이터가 모두 삭제됩니다:                           │
│                                                                 │
│  • 계정 정보 (이메일, 프로필)                                    │
│  • 저장된 모든 노트 (127개)                                      │
│  • 업로드된 이미지 및 캡처 (48개)                                │
│  • 태그, 폴더 등 모든 분류 정보                                   │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │  ❌ 삭제된 데이터는 복구할 수 없습니다.                      │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│         [취소]                        [🗑️ 탈퇴하기]             │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**디자인 가이드:**
- 경고 아이콘과 빨간색 강조로 심각성 전달
- 실제 삭제될 데이터 개수 동적 표시
- "탈퇴하기" 버튼은 빨간색 계열의 Destructive 스타일
- 버튼 순서: 취소(좌측), 탈퇴(우측)

### 삭제 데이터 범위

| 테이블 | 삭제 방식 |
|:---|:---|
| `auth.users` | Hard Delete |
| `public.users` | Cascade Delete |
| `notes` | Cascade Delete |
| `assets` | Cascade Delete + Storage 파일 삭제 |
| `tags` | Cascade Delete |
| `folders` | Cascade Delete |
| `workspace_members` | Cascade Delete |
| 빈 `workspaces` | Trigger로 자동 삭제 |

---

# 💾 2. 콘텐츠 저장 (익스텐션)

## 2.1 텍스트 저장

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | SAVE-001 |
| **우선순위** | P0 (필수) |
| **트리거** | 텍스트 선택 + 단축키 |
| **기본 단축키** | `Cmd+N` (Mac) / `Ctrl+N` (Win) |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| SAVE-001-1 | 선택 텍스트 저장 | 드래그로 선택한 텍스트 저장 | P0 |
| SAVE-001-2 | 원본 URL 저장 | 현재 페이지 URL 자동 저장 | P0 |
| SAVE-001-3 | 메타데이터 수집 | 페이지 제목, 파비콘, 사이트명 수집 | P0 |
| SAVE-001-4 | 저장 완료 피드백 | 토스트 알림으로 성공/실패 표시 | P0 |
| SAVE-001-5 | 텍스트 미선택 시 안내 | "텍스트를 선택해주세요" 안내 표시 | P1 |

### 사용자 플로우

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. 사용자: 웹페이지에서 텍스트를 드래그하여 선택                    │
│                                                                 │
│ 2. 사용자: 단축키 입력 (Cmd+N)                                   │
│                                                                 │
│ 3. 익스텐션: 선택 텍스트 + 메타데이터 추출                         │
│    ├─ window.getSelection() 으로 텍스트 획득                     │
│    ├─ document.title, favicon, og:site_name 추출                │
│    └─ 현재 URL 획득                                              │
│                                                                 │
│ 4. 익스텐션: 백그라운드로 저장 요청 메시지 전송                    │
│                                                                 │
│ 5. 백그라운드: 용량 체크 → DB에 노트 저장                         │
│                                                                 │
│ 6. 익스텐션: 성공 토스트 표시 "저장되었습니다 ✓"                  │
└─────────────────────────────────────────────────────────────────┘
```

### 저장 데이터 구조

```json
{
  "type": "text",
  "url": "https://example.com/article/123",
  "title": null,
  "memo": null,
  "data": {
    "text": "사용자가 선택한 텍스트 내용이 여기에 저장됩니다..."
  },
  "meta": {
    "url": "https://example.com/article/123",
    "title": "아티클 제목 | Example",
    "favicon": "https://example.com/favicon.ico",
    "site_name": "Example",
    "description": "아티클 설명..."
  },
  "tags": []
}
```

### UI/UX 가이드

**저장 성공 토스트:**
```
┌──────────────────────────────────┐
│  ✓ 저장되었습니다                 │
│  "선택한 텍스트의 첫 부분..."     │
└──────────────────────────────────┘
```

**텍스트 미선택 시 안내:**
```
┌──────────────────────────────────────────┐
│  📝 저장할 텍스트를 선택해주세요          │
│                                          │
│  드래그하여 텍스트를 선택한 후            │
│  Cmd+N을 눌러주세요                      │
└──────────────────────────────────────────┘
```

### 엣지 케이스

| 케이스 | 처리 방법 |
|:---|:---|
| 텍스트 미선택 | 안내 오버레이 표시 |
| 빈 텍스트 선택 (공백만) | "유효한 텍스트를 선택해주세요" |
| 매우 긴 텍스트 (10,000자 초과) | 앞 10,000자만 저장 + 안내 |
| 비로그인 상태 | 로그인 안내 팝업 |
| 용량 초과 | "스토리지 용량이 부족합니다" |
| 네트워크 오류 | "저장에 실패했습니다. 다시 시도해주세요" |

---

## 2.2 화면 캡처

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | SAVE-003 |
| **우선순위** | P0 (필수) |
| **트리거** | 단축키 → 영역 드래그 |
| **기본 단축키** | `Cmd+E` (Mac) / `Ctrl+E` (Win) |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| SAVE-003-1 | 영역 선택 캡처 | 드래그로 사각형 영역 지정 후 캡처 | P0 |
| SAVE-003-2 | 캡처 오버레이 UI | 전체 화면 딤 처리 + 선택 영역 표시 | P0 |
| SAVE-003-3 | 영역 크기 표시 | 드래그 중 선택 영역 크기(px) 실시간 표시 | P1 |
| SAVE-003-4 | ESC 취소 | ESC 키로 캡처 취소 | P0 |
| SAVE-003-5 | 이미지 업로드 | 캡처 이미지 Storage 업로드 | P0 |
| SAVE-003-6 | 크기 정보 저장 | display_width, display_height 저장 | P0 |

### 사용자 플로우

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. 사용자: 단축키 입력 (Cmd+E)                                   │
│                                                                 │
│ 2. 익스텐션: 캡처 오버레이 활성화                                 │
│    ├─ 전체 화면 반투명 딤 처리                                    │
│    ├─ 커서를 크로스헤어로 변경                                    │
│    └─ "ESC: 취소 | 드래그: 영역 선택" 안내 표시                   │
│                                                                 │
│ 3. 사용자: 마우스 드래그로 영역 선택                              │
│    └─ 선택 중: 영역 크기 "800 x 600 px" 실시간 표시              │
│                                                                 │
│ 4. 사용자: 마우스 버튼 릴리스                                     │
│                                                                 │
│ 5. 익스텐션:                                                     │
│    ├─ 오버레이 제거                                              │
│    ├─ chrome.tabs.captureVisibleTab 호출                         │
│    └─ 선택 영역만 크롭                                           │
│                                                                 │
│ 6. 백그라운드:                                                   │
│    ├─ 용량 체크                                                  │
│    ├─ 이미지 Storage 업로드                                      │
│    └─ notes + assets 저장                                        │
│                                                                 │
│ 7. 익스텐션: 성공 토스트 표시                                     │
└─────────────────────────────────────────────────────────────────┘
```

### UI/UX 가이드

**캡처 오버레이:**

```
┌─────────────────────────────────────────────────────────────────┐
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░┌─────────────────────────────────┐░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░│                                 │░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░│     선택 영역 (원본 밝기 유지)    │░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░│                                 │░░░[800 x 450 px]░░│
│░░░░░░░░░░└─────────────────────────────────┘░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
│                                                                 │
│                   ESC: 취소  |  드래그: 영역 선택               │
└─────────────────────────────────────────────────────────────────┘

░ = 반투명 딤 처리 영역 (rgba(0,0,0,0.5))
```

**디자인 가이드:**
- 선택 영역은 파란색 테두리 (2px, #3b82f6)
- 영역 크기는 선택 영역 우측 하단에 표시
- ESC 안내는 화면 하단 중앙에 고정

### 저장 데이터 구조

```json
{
  "type": "capture",
  "url": "https://example.com/page",
  "title": null,
  "memo": null,
  "data": {
    "display_width": 800,
    "display_height": 450
  },
  "meta": {
    "url": "https://example.com/page",
    "title": "페이지 제목"
  },
  "asset_id": "uuid-of-capture-asset"
}
```

### 엣지 케이스

| 케이스 | 처리 방법 |
|:---|:---|
| ESC 키 | 캡처 취소, 오버레이 제거 |
| 최소 영역 미만 (10x10px) | 캡처 무시, 안내 메시지 |
| 캡처 권한 거부 | 권한 요청 안내 |
| 용량 초과 | "스토리지 용량이 부족합니다" |

---

## 2.3 북마크 저장

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | SAVE-004 |
| **우선순위** | P0 (필수) |
| **트리거** | 단축키 (선택 없이) |
| **기본 단축키** | `Cmd+B` (Mac) / `Ctrl+B` (Win) |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| SAVE-004-1 | 페이지 북마크 | 현재 페이지를 북마크로 저장 | P0 |
| SAVE-004-2 | OG 메타데이터 수집 | og:title, og:description, og:image 수집 | P0 |
| SAVE-004-3 | 파비콘 수집 | link[rel="icon"] 또는 /favicon.ico | P0 |
| SAVE-004-4 | 저장 완료 피드백 | 토스트로 페이지 제목과 함께 표시 | P0 |

### 사용자 플로우

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. 사용자: 단축키 입력 (Cmd+B)                                   │
│                                                                 │
│ 2. 익스텐션: 페이지 메타데이터 수집                               │
│    ├─ document.title                                             │
│    ├─ meta[property="og:title"]                                  │
│    ├─ meta[property="og:description"]                            │
│    ├─ meta[property="og:image"]                                  │
│    ├─ meta[property="og:site_name"]                              │
│    └─ link[rel="icon"] 또는 /favicon.ico                         │
│                                                                 │
│ 3. 익스텐션: 백그라운드로 저장 요청                               │
│                                                                 │
│ 4. 백그라운드: 용량 체크 → notes 저장                             │
│                                                                 │
│ 5. 익스텐션: 성공 토스트 표시                                     │
│    └─ "북마크 저장: Example Article Title"                       │
└─────────────────────────────────────────────────────────────────┘
```

### 저장 데이터 구조

```json
{
  "type": "bookmark",
  "url": "https://example.com/article/123",
  "title": null,
  "memo": null,
  "data": {},
  "meta": {
    "url": "https://example.com/article/123",
    "title": "아티클 제목 | Example",
    "description": "이 아티클은 어쩌구 저쩌구에 대한 내용입니다...",
    "image": "https://example.com/og-image.jpg",
    "image_width": 1200,
    "image_height": 630,
    "favicon": "https://example.com/favicon.ico",
    "site_name": "Example"
  },
  "tags": []
}
```

### 엣지 케이스

| 케이스 | 처리 방법 |
|:---|:---|
| OG 메타데이터 없음 | document.title, 기본 파비콘 사용 |
| 이미 저장된 URL | 중복 저장 허용 (동일 URL 여러 북마크 가능) |
| 로컬 파일, about: 페이지 | 저장 불가 안내 |

---

# 🖥️ 3. 콘텐츠 관리 (웹 대시보드)

## 3.1 대시보드

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | DASH-001 |
| **우선순위** | P0 (필수) |
| **URL** | `/dashboard` |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| DASH-001-1 | 그리드 레이아웃 | 노트 카드 그리드 표시 | P0 |
| DASH-001-2 | 무한 스크롤 | 스크롤 시 추가 노트 자동 로딩 | P0 |
| DASH-001-3 | 유형 필터 | text/image/capture/bookmark 필터 | P0 |
| DASH-001-4 | 태그 필터 | 선택한 태그로 필터링 | P0 |
| DASH-001-5 | 정렬 옵션 | 최신순/오래된순 | P0 |
| DASH-001-6 | 빈 상태 | 노트 없을 시 온보딩 안내 | P1 |

### UI/UX 가이드

**그리드 레이아웃:**
```
┌─────────────────────────────────────────────────────────────────┐
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐│
│  │🖼️           │ │📝           │ │🔗           │ │📸           ││
│  │             │ │ "텍스트     │ │             │ │             ││
│  │ 이미지      │ │  첫 줄..."  │ │ OG 이미지   │ │ 캡처 이미지 ││
│  │ 썸네일      │ │             │ │ 썸네일      │ │ 썸네일      ││
│  │             │ │             │ │             │ │             ││
│  ├─────────────┤ ├─────────────┤ ├─────────────┤ ├─────────────┤│
│  │노트 제목    │ │노트 제목    │ │페이지 제목  │ │노트 제목    ││
│  │메모 미리...│ │메모 미리...│ │사이트 설명..│ │메모 미리... ││
│  │#tag1 #tag2 │ │#research   │ │             │ │#design     ││
│  │🌐 site.com │ │🌐 blog.com │ │🌐 news.com │ │🌐 example  ││
│  │2시간 전    │ │어제        │ │3일 전      │ │1주 전      ││
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘│
└─────────────────────────────────────────────────────────────────┘
```

**노트 카드 구성요소:**
| 요소 | 설명 |
|:---|:---|
| 유형 아이콘 | 📝(text), 🖼️(image), 📸(capture), 🔗(bookmark) |
| 썸네일 | 이미지/캡처: 실제 이미지, 북마크: OG이미지, 텍스트: 첫 줄 |
| 제목 | 사용자 지정 제목 또는 meta.title fallback |
| 메모 | 메모 첫 1-2줄 (있는 경우) |
| 태그 | 태그 목록 (최대 3개 + "더보기") |
| 사이트 | 파비콘 + 도메인명 |
| 시간 | 상대 시간 (2시간 전, 어제, 3일 전...) |

**빈 상태:**
```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                         🥒                                      │
│                                                                 │
│                  아직 저장된 노트가 없어요                        │
│                                                                 │
│             브라우저에서 Pickle 익스텐션으로                      │
│           텍스트, 이미지, 화면을 저장해 보세요!                   │
│                                                                 │
│              [🧩 익스텐션 설치하기]                              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3.2 노트 상세/편집

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | DASH-002 |
| **우선순위** | P0 (필수) |
| **진입** | 노트 카드 클릭 |
| **UI** | 모달 또는 사이드 패널 |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| DASH-002-1 | 상세 모달 | 카드 클릭 시 상세 정보 모달 표시 | P0 |
| DASH-002-2 | 제목 편집 | 인라인 제목 수정 | P0 |
| DASH-002-3 | 메모 편집 | 메모 추가/수정 | P0 |
| DASH-002-4 | 태그 편집 | 태그 추가/삭제 | P0 |
| DASH-002-5 | 북마크 토글 | 중요 노트 표시 ⭐ | P0 |
| DASH-002-6 | 원본 링크 | 원본 URL로 이동 가능 | P0 |
| DASH-002-7 | 삭제 | 휴지통으로 이동 | P0 |
| DASH-002-8 | 폴더 이동 | 폴더 선택하여 이동 | P1 |

### UI/UX 가이드

**상세 모달 레이아웃:**
```
┌─────────────────────────────────────────────────────────────────┐
│                                                           [X]  │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                           │  │
│  │                                                           │  │
│  │                   콘텐츠 영역                              │  │
│  │              (이미지 / 텍스트 / 북마크 카드)                │  │
│  │                                                           │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────┐  ⭐   │
│  │ 제목 (클릭하여 편집)                                  │       │
│  └─────────────────────────────────────────────────────┘       │
│                                                                 │
│  📝 메모                                                        │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 메모 내용을 입력하세요...                                  │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  🏷️ 태그                                                        │
│  [#design] [#reference] [#ui] [+ 태그 추가]                    │
│                                                                 │
│  📁 폴더                                                        │
│  [📁 UI 레퍼런스 ▾]                                             │
│                                                                 │
│  🔗 원본 URL                                                    │
│  https://example.com/long-article-url... [↗️ 열기]              │
│                                                                 │
│  📅 저장일시: 2026-01-26 11:45                                  │
│                                                                 │
│  ───────────────────────────────────────────────────────────── │
│                                                                 │
│  [🗑️ 휴지통으로 이동]                                           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3.3 검색

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | DASH-003 |
| **우선순위** | P0 (필수) |
| **URL** | `/search` |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| DASH-003-1 | 전문 검색 | 제목, 메모, 텍스트, URL, 태그 검색 | P0 |
| DASH-003-2 | 실시간 검색 | 300ms debounce 적용 | P0 |
| DASH-003-3 | 필터 조합 | 검색어 + 유형/태그 필터 조합 | P0 |
| DASH-003-4 | 결과 하이라이트 | 매칭 텍스트 강조 | P1 |
| DASH-003-5 | 검색 결과 수 표시 | "OO개의 검색 결과" | P1 |
| DASH-003-6 | 빈 결과 안내 | 검색 결과 없음 시 안내 | P0 |

---

## 3.4 휴지통

### 기능 개요

| 항목 | 내용 |
|:---|:---|
| **기능 ID** | DASH-005 |
| **우선순위** | P1 (중요) |
| **URL** | `/trash` |

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| DASH-005-1 | 삭제된 노트 목록 | deleted_at이 설정된 노트 표시 | P0 |
| DASH-005-2 | 복구 | 노트 복구 (deleted_at null) | P0 |
| DASH-005-3 | 영구 삭제 | 개별 노트 영구 삭제 | P0 |
| DASH-005-4 | 휴지통 비우기 | 전체 영구 삭제 | P0 |
| DASH-005-5 | 삭제 일시 표시 | 삭제된 시간 표시 | P1 |

### UI/UX 가이드

**휴지통 비우기 확인:**
```
┌────────────────────────────────────────┐
│                                        │
│  ⚠️ 휴지통을 비우시겠습니까?            │
│                                        │
│  휴지통의 모든 노트(12개)가             │
│  영구적으로 삭제됩니다.                 │
│                                        │
│  ❌ 이 작업은 취소할 수 없습니다.        │
│                                        │
│  [취소]          [🗑️ 휴지통 비우기]     │
│                                        │
└────────────────────────────────────────┘
```

---

# ⚙️ 4. 설정 (Settings)

## 4.1 프로필 설정

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| SET-001-1 | 이름 변경 | 표시 이름 수정 가능 | P0 |
| SET-001-2 | 프로필 사진 표시 | Google 프로필 사진 표시 | P0 |
| SET-001-3 | 이메일 표시 | 읽기 전용으로 이메일 표시 | P0 |

---

## 4.2 단축키 설정 (익스텐션)

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| SET-003-1 | 단축키 변경 | 각 저장 유형별 단축키 커스터마이징 | P1 |
| SET-003-2 | 충돌 감지 | 다른 단축키와 충돌 시 경고 | P1 |
| SET-003-3 | 기본값 복원 | 전체 단축키 기본값 리셋 | P1 |

**기본 단축키:**

| 기능 | Mac | Windows |
|:---|:---|:---|
| 텍스트 저장 | ⌘N | Ctrl+N |
| 화면 캡처 | ⌘E | Ctrl+E |
| 북마크 저장 | ⌘B | Ctrl+B |

---

# 💾 5. 스토리지 (Storage)

## 5.1 용량 표시

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| STOR-001-1 | 사이드바 용량 표시 | 프로그레스 바 + 사용량/한도 | P0 |
| STOR-001-2 | 경고 상태 | 90% 이상 시 경고 색상 (주황→빨강) | P0 |
| STOR-001-3 | 상세 내역 | 유형별 사용량 (설정 페이지) | P1 |

---

## 5.2 용량 제한

### 상세 요구사항

| ID | 요구사항 | 수락 기준 | 우선순위 |
|:---|:---|:---|:---|
| STOR-002-1 | 저장 전 체크 | 저장 시도 전 잔여 용량 확인 | P0 |
| STOR-002-2 | 초과 시 차단 | 용량 초과 예상 시 저장 차단 | P0 |
| STOR-002-3 | 안내 메시지 | 부족 시 용량 안내 + 관리 링크 | P0 |

**용량 한도:**

| 제한 | 값 |
|:---|:---|
| 워크스페이스 기본 용량 | 50MB |
| 단일 파일 최대 크기 | 10MB |

---

# 📋 부록

## A. 우선순위 정의

| 우선순위 | 정의 |
|:---|:---|
| **P0** | 출시 필수, 없으면 서비스 불가 |
| **P1** | 중요, 주요 사용자 경험에 필수 |
| **P2** | 있으면 좋음, 후순위 개발 가능 |

## B. 관련 문서

- [PRD.md](./PRD.md) - 제품 요구사항 문서
- [USER_FLOW.md](./prd/USER_FLOW.md) - 사용자 플로우
- [DATA_HANDLING.md](./prd/DATA_HANDLING.md) - 데이터 취급 명세
- [database_schema.md](./database_schema.md) - DB 스키마

---

**문서 이력**

| 버전 | 날짜 | 작성자 | 변경 내용 |
|:---|:---|:---|:---|
| 1.0 | 2026-01-26 | Product Team | 초안 작성 |

---

*© 2026 Pickle Team. All rights reserved.*
