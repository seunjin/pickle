# ðŸ› ï¸ ë¡œì»¬ ê°œë°œ ê°€ì´ë“œ (Local Development Guide)

ì´ ë¬¸ì„œëŠ” Pickle í”„ë¡œì íŠ¸ë¥¼ ì„¤ê³„, ê°œë°œ ë° í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë¡œì»¬ í™˜ê²½ êµ¬ì¶• ë°©ë²•ì„ ê°€ì´ë“œí•©ë‹ˆë‹¤.

---

## 1. ì‚¬ì „ ìš”êµ¬ì‚¬í•­ (Prerequisites)

- **Node.js**: v20.x ì´ìƒ (v22 ê¶Œìž¥)
- **pnpm**: v9.x ì´ìƒ
- **Supabase CLI**: ë¡œì»¬ DB ë° Auth í™˜ê²½ êµ¬ë™ì„ ìœ„í•´ í•„ìš”
- **Docker**: Supabase ë¡œì»¬ êµ¬ë™ì„ ìœ„í•´ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•¨

---

## 2. í”„ë¡œì íŠ¸ ì„¤ì • (Setup)

### 2.1 ì˜ì¡´ì„± ì„¤ì¹˜
```bash
pnpm install
```

### 2.2 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
ê° ì•± ë””ë ‰í† ë¦¬ì— `.env` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ ì„¤ì •í•©ë‹ˆë‹¤.

- **`apps/web/.env.local`** (ì—†ì„ ì‹œ ìƒì„±)
- **`apps/extension/.env`** (ì—†ì„ ì‹œ ìƒì„±)

```env
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_local_anon_key
NEXT_PUBLIC_APP_URL=http://localhost:3000
```
> [!TIP]
> ë¡œì»¬ `anon_key`ëŠ” `supabase start` ì‹¤í–‰ í›„ í„°ë¯¸ë„ ì¶œë ¥ì—ì„œ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

---

## 3. ì‹¤í–‰ ë°©ë²• (Running Locally)

### 3.1 Supabase ë¡œì»¬ ì„œë²„ ì‹¤í–‰
```bash
# Dockerê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
pnpm supabase start
```
ì‹¤í–‰ ì™„ë£Œ í›„ ë‚˜íƒ€ë‚˜ëŠ” `Studio URL`(ë³´í†µ http://127.0.0.1:54323)ì—ì„œ DBë¥¼ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### 3.2 ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
```bash
# ì›¹ ì•±ê³¼ ìµìŠ¤í…ì…˜ì„ ë™ì‹œì— ì‹¤í–‰
pnpm dev
```

- **Web**: [http://localhost:3000](http://localhost:3000)
- **Extension**: `apps/extension/dist` ë””ë ‰í† ë¦¬ì— ë¹Œë“œ ê²°ê³¼ë¬¼ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.
  - ë¸Œë¼ìš°ì €ì˜ ìµìŠ¤í…ì…˜ ê´€ë¦¬ íŽ˜ì´ì§€ì—ì„œ "ì••ì¶•í•´ì œëœ í™•ìž¥ í”„ë¡œê·¸ëž¨ì„ ë¡œë“œí•©ë‹ˆë‹¤"ë¥¼ ì„ íƒ í›„ `apps/extension/dist` í´ë”ë¥¼ ë¡œë“œí•˜ì„¸ìš”.

---

## 4. ì£¼ìš” ëª…ë ¹ì–´ (Common Commands)

| ëª…ë ¹ì–´ | ì„¤ëª… |
| :--- | :--- |
| `pnpm dev` | ì „ì²´ í”„ë¡œì íŠ¸ ê°œë°œ ì„œë²„ ì‹¤í–‰ |
| `pnpm build` | í”„ë¡œë•ì…˜ ë¹Œë“œ |
| `pnpm lint` | Biomeì„ ì‚¬ìš©í•œ ì½”ë“œ ë¦°íŠ¸ ë° í¬ë§·íŒ… ì²´í¬ |
| `pnpm supabase stop` | ë¡œì»¬ Supabase ì„œë²„ ì¤‘ë‹¨ |
| `pnpm icon` | `packages/icons`ì˜ SVGë¥¼ React ì»´í¬ë„ŒíŠ¸ë¡œ ìž¬ìƒì„± |

---

## 5. ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ (Database Migrations)

DB ìŠ¤í‚¤ë§ˆë¥¼ ìˆ˜ì •í•´ì•¼ í•  ê²½ìš° ë‹¤ìŒ ì ˆì°¨ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

1. `supabase/migrations`ì— ìƒˆë¡œìš´ SQL íŒŒì¼ ìž‘ì„± (ë˜ëŠ” CLI ì‚¬ìš©)
2. `supabase db reset`ìœ¼ë¡œ ë¡œì»¬ DB ë°˜ì˜
3. `pnpm contract:generate` (ì˜ˆì •) ë“±ì„ í†µí•´ TypeScript íƒ€ìž… ì •ì˜ ìµœì‹ í™”

---
> [!IMPORTANT]
> ì½”ë“œ ìž‘ì„± ì „ [CONVENTIONS.md](../CONVENTIONS.md)ë¥¼ ë°˜ë“œì‹œ ìˆ™ì§€í•´ ì£¼ì„¸ìš”.
